<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.label.dao.custom.SysParameterCustomerMapper">

  <!--批量插入  -->
  <insert id="insertBatch" parameterType="java.util.List" >
    insert into tb_sys_parameter(cid,category,syskey,sysvalue,sysdesc,status,appid) values
    <foreach collection="list" item="item" index="index" separator="," >
      (#{item.cid}, #{item.category}, #{item.syskey}, #{item.sysvalue}, #{item.sysdesc}, #{item.status}, #{item.appid})
    </foreach>  
  </insert>
  
  <!-- 删除 -->
  <delete id="delete">
    delete from tb_sys_parameter
    where cid = #{cid} and appid=#{appid} and syskey in<foreach collection="syskeys" index="index" item="item" open="(" separator="," close=")">#{item}</foreach>
  </delete>
  
  <!-- 列表信息 -->
  <select id="list" resultType="com.label.common.model.base.SysParameter">
    select * from tb_sys_parameter
    where cid = #{cid}
    <if test="category != null">
      and category = #{category}
    </if>
    <if test="appid != null">
      and appid = #{appid}
    </if>
    <if test="syskeys != null">
      and syskey in<foreach collection="syskeys" index="index" item="item" open="(" separator="," close=")">#{item}</foreach>
    </if>
  </select>
  
</mapper>